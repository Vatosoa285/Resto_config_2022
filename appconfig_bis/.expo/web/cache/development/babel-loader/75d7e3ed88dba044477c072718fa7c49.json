{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/vats/Resto_config_2022/appconfig_bis/src/screens/Engagements/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { userContext } from \"../../contexts/userContext\";\nimport { sendAPI } from \"../../components/sendAPI\";\nimport { useToast } from \"react-native-toast-notifications\";\nimport styles from \"../../styles\";\nimport ViewStatus from \"../../components/viewStatut\";\nimport * as Device from 'expo-device';\nimport logoVide from \"../../../assets/logovide.png\";\n\nfunction engagementScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n  var toast = useToast();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      myCtrl = _useState2[0],\n      setMyCtrl = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      myCarret = _useState4[0],\n      setMyCarret = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      upToDate = _useState10[0],\n      setUpToDate = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modalVisibleSet = _useState12[0],\n      setModalVisibleSet = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      comment = _useState14[0],\n      setComment = _useState14[1];\n\n  var _useState15 = useState(['', '', '']),\n      _useState16 = _slicedToArray(_useState15, 2),\n      infoComment = _useState16[0],\n      setInfoComment = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      visibleData = _useState18[0],\n      setVisibleData = _useState18[1];\n\n  var userID = React.useContext(userContext).userID;\n  var token = React.useContext(userContext).token;\n  var handleError = React.useContext(userContext).handleError;\n  var setReferent = React.useContext(userContext).setReferent;\n  var setResponsable = React.useContext(userContext).setResponsable;\n\n  function versActivite(_ref2, item) {\n    var navigation = _ref2.navigation;\n    navigation.navigate('Activite', {\n      IDActivite: item.idactivite,\n      IDSite: item.idsite,\n      IDJour: item.jourpresence.split(\" \")[0],\n      NomActivite: item.nomactivite,\n      NomSite: item.nomsite,\n      idRole: item.nomrole == \"BENEVOLE\" ? \"1\" : \"2\"\n    });\n  }\n\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      setLoading(true);\n      sendAPI('APP', 'AP_LST_PRE_BEN', {\n        'P_IDBENEVOLE': userID\n      }, token).then(function (json) {\n        setData(json);\n        setUpToDate(true);\n        setLoading(false);\n      }).catch(function (error) {\n        setLoading(false);\n        handleError(error);\n      });\n    });\n    return unsubscribe;\n  }, [navigation]);\n  useEffect(function () {\n    sendAPI('APP', 'AP_CHECK_REFERENT', {\n      'P_IDBENEVOLE': userID\n    }, token).then(function (data) {\n      return setReferent(data[0].ref == \"1\");\n    }).catch(function (error) {\n      return handleError(error);\n    });\n  }, []);\n  useEffect(function () {\n    sendAPI('APP', 'AP_CHECK_RESPONSABLE', {\n      'P_IDBENEVOLE': userID\n    }, token).then(function (data) {\n      return setResponsable(data[0].resp == \"1\");\n    }).catch(function (error) {\n      return handleError(error);\n    });\n  }, []);\n  useEffect(function () {\n    if (upToDate == false) {\n      setLoading(true);\n      sendAPI('APP', 'AP_LST_PRE_BEN', {\n        'P_IDBENEVOLE': userID\n      }, token).then(function (json) {\n        setData(json);\n        setUpToDate(true);\n        setLoading(false);\n      }).catch(function (error) {\n        setLoading(false);\n        handleError(error);\n      });\n    }\n  }, [upToDate]);\n  useEffect(function () {\n    setVisibleData(data);\n  }, [data]);\n\n  var renderItem = function renderItem(_ref3) {\n    var item = _ref3.item;\n    return React.createElement(View, {\n      style: [styles.item, styles[item.nomrole], {\n        paddingVertical: 0\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }\n    }, React.createElement(Pressable, {\n      onPress: function onPress() {\n        return versActivite({\n          navigation: navigation\n        }, item);\n      },\n      style: {\n        marginVertical: 5,\n        alignSelf: \"center\",\n        width: \"100%\",\n        maxWidth: 600,\n        padding: 0,\n        justifyContent: \"space-between\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, function (_ref4) {\n      var pressed = _ref4.pressed;\n      return React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: [styles.colomn, {\n          width: '33%'\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: pressed ? 'white' : 'black',\n          textAlign: \"center\",\n          fontSize: 12\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }, item.nomsite), React.createElement(Text, {\n        style: {\n          color: pressed ? 'white' : 'black',\n          textAlign: \"center\",\n          fontSize: 12\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, item.nomactivite)), React.createElement(View, {\n        style: [styles.colomn, {\n          width: '33%'\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: pressed ? 'white' : 'black',\n          textAlign: \"center\",\n          fontSize: 12\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }, item.jourpresence.split(\" \")[0].split(\"-\")[2], \"/\", item.jourpresence.split(\" \")[0].split(\"-\")[1], \"/\", item.jourpresence.split(\" \")[0].split(\"-\")[0]), React.createElement(Text, {\n        style: {\n          color: pressed ? 'white' : 'black',\n          textAlign: \"center\",\n          fontSize: 12\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, \"Participants : \", item.nombre_present)), React.createElement(View, {\n        style: [styles.colomn, {\n          width: '33%'\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, React.createElement(ViewStatus, {\n        fctStatut: function fctStatut() {\n          return changerStatut(item.etat, userID, item.jourpresence, item.idactivite, item.idsite, item.nomrole == \"BENEVOLE\" ? \"1\" : \"2\");\n        },\n        fctCommentaire: function fctCommentaire() {\n          setModalVisibleSet(true);\n          setComment(item.commentaire);\n          setInfoComment([item.jourpresence, item.idactivite, item.idsite]);\n        },\n        status: item.etat,\n        role: \"2\",\n        align: \"row\",\n        id1: userID,\n        id2: userID,\n        commentaire: item.commentaire,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      })));\n    }));\n  };\n\n  var changerStatut = function changerStatut(statut, benevole, jour, activite, site, role) {\n    if (statut == \"Absent\") {\n      setLoading(true);\n      sendAPI('APP', 'AP_DEL_PRESENCE', {\n        \"P_IDBENEVOLE\": benevole,\n        \"P_JOURPRESENCE\": jour,\n        \"P_IDACTIVITE\": activite,\n        \"P_IDSITE\": site\n      }, token).then(function (texte) {\n        toastComponent(\"Statut : Non défini\", \"warning\");\n        setUpToDate(false);\n        setLoading(false);\n      }).catch(function (error) {\n        setUpToDate(false);\n        setLoading(false);\n        handleError(error);\n      });\n    } else if (statut == \"Présent\") {\n      setInfoComment([jour, activite, site]);\n      setModalVisibleSet(true);\n    } else {\n      setLoading(true);\n      sendAPI('APP', 'AP_INS_PRESENCE', {\n        \"P_IDBENEVOLE\": benevole,\n        \"P_JOURPRESENCE\": jour,\n        \"P_IDACTIVITE\": activite,\n        \"P_IDSITE\": site,\n        \"P_IDROLE\": role\n      }, token).then(function (texte) {\n        toastComponent(\"Statut : Présent\", \"success\");\n        setUpToDate(false);\n        setLoading(false);\n      }).catch(function (error) {\n        setUpToDate(false);\n        setLoading(false);\n        handleError(error);\n      });\n    }\n  };\n\n  var toastComponent = function toastComponent(texte, type) {\n    toast.show(texte, {\n      type: type,\n      position: \"bottom\",\n      duration: 2000,\n      offset: 30,\n      animationType: \"zoom-in\"\n    });\n  };\n\n  var fctCommentaireAbsence = function fctCommentaireAbsence() {\n    setModalVisibleSet(!modalVisibleSet);\n    setLoading(true);\n    sendAPI('APP', 'AP_UPD_PRESENCE', {\n      \"P_IDBENEVOLE\": userID,\n      \"P_JOURPRESENCE\": infoComment[0],\n      \"P_IDACTIVITE\": infoComment[1],\n      \"P_IDSITE\": infoComment[2],\n      \"P_COMMENTAIRE\": comment\n    }, token).then(function (texte) {\n      toastComponent(\"Statut : Absent\", \"normal\");\n      setUpToDate(false);\n      setComment(\"\");\n      setLoading(false);\n    }).catch(function (error) {\n      setUpToDate(false);\n      setComment(\"\");\n      setLoading(false);\n      handleError(error);\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }, React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisibleSet,\n    onRequestClose: function onRequestClose() {\n      setModalVisibleSet(!modalVisibleSet);\n      setComment(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.centeredView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, React.createElement(ImageBackground, {\n    source: logoVide,\n    resizeMode: \"cover\",\n    style: styles.modalContactView,\n    imageStyle: styles.modalContactView2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.modalContactTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, \"Commentaire d'Absence :\"), React.createElement(TextInput, {\n    style: [styles.input, {\n      borderWidth: 1\n    }],\n    multiline: true,\n    numberOfLines: 3,\n    onChangeText: setComment,\n    value: comment,\n    placeholder: \"Raison de votre absence\",\n    autoCompleteType: \"off\",\n    onSelectionChange: function onSelectionChange(event) {\n      return setMyCarret(event.nativeEvent.selection.end);\n    },\n    onKeyUp: function onKeyUp(keyUp) {\n      return keyUp.keyCode == 17 && setMyCtrl(false);\n    },\n    onKeyPress: function onKeyPress(keyPress) {\n      !myCtrl && keyPress.keyCode == 13 && fctCommentaireAbsence();\n      keyPress.keyCode == 13 && setComment(comment.slice(0, myCarret) + \"\\n\" + comment.slice(myCarret));\n      keyPress.keyCode == 17 && setMyCtrl(true);\n    },\n    maxLength: 999,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: styles.modalContactButtonView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }, React.createElement(Pressable, {\n    style: {\n      alignItems: \"center\",\n      padding: 10,\n      elevation: 2,\n      alignSelf: \"flex-end\"\n    },\n    onPress: function onPress() {\n      return fctCommentaireAbsence();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 19\n    }\n  }, function (_ref5) {\n    var pressed = _ref5.pressed;\n    return React.createElement(Text, {\n      style: [styles.textContactStyle, {\n        color: pressed ? \"lightgrey\" : \"black\",\n        fontWeight: \"bold\"\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 23\n      }\n    }, \"Valider\");\n  }), React.createElement(Pressable, {\n    style: {\n      alignItems: \"center\",\n      padding: 10,\n      elevation: 2,\n      alignSelf: \"flex-start\"\n    },\n    onPress: function onPress() {\n      setModalVisibleSet(!modalVisibleSet);\n      setComment(\"\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, function (_ref6) {\n    var pressed = _ref6.pressed;\n    return React.createElement(Text, {\n      style: [styles.textContactStyle, {\n        color: pressed ? \"lightgrey\" : \"black\",\n        fontWeight: \"bold\"\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 23\n      }\n    }, \"Annuler\");\n  })))))), React.createElement(FlatList, {\n    data: visibleData,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    ListHeaderComponent: React.createElement(React.Fragment, null, React.createElement(View, {\n      style: styles.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 15\n      }\n    }, React.createElement(View, {\n      style: {\n        width: '33%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.headerTitle, {\n        textAlign: \"center\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 19\n      }\n    }, \"Activit\\xE9\")), React.createElement(View, {\n      style: {\n        width: '33%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.headerTitle, {\n        textAlign: \"center\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 19\n      }\n    }, \"Infos\")), React.createElement(View, {\n      style: {\n        width: '33%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.headerTitle, {\n        textAlign: \"center\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 19\n      }\n    }, \"Pr\\xE9sence\")))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }\n  })), isLoading && React.createElement(View, {\n    style: styles.loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#e92682\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default engagementScreen;","map":{"version":3,"names":["React","useEffect","useState","userContext","sendAPI","useToast","styles","ViewStatus","Device","logoVide","engagementScreen","navigation","toast","myCtrl","setMyCtrl","myCarret","setMyCarret","isLoading","setLoading","data","setData","upToDate","setUpToDate","modalVisibleSet","setModalVisibleSet","comment","setComment","infoComment","setInfoComment","visibleData","setVisibleData","userID","useContext","token","handleError","setReferent","setResponsable","versActivite","item","navigate","IDActivite","idactivite","IDSite","idsite","IDJour","jourpresence","split","NomActivite","nomactivite","NomSite","nomsite","idRole","nomrole","unsubscribe","addListener","then","json","catch","error","ref","resp","renderItem","paddingVertical","marginVertical","alignSelf","width","maxWidth","padding","justifyContent","pressed","flexDirection","colomn","color","textAlign","fontSize","nombre_present","changerStatut","etat","commentaire","statut","benevole","jour","activite","site","role","texte","toastComponent","type","show","position","duration","offset","animationType","fctCommentaireAbsence","container","flex","centeredView","modalContactView","modalContactView2","modalContactTitle","input","borderWidth","event","nativeEvent","selection","end","keyUp","keyCode","keyPress","slice","modalContactButtonView","alignItems","elevation","textContactStyle","fontWeight","index","toString","header","headerTitle","loading"],"sources":["/home/vats/Resto_config_2022/appconfig_bis/src/screens/Engagements/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { ActivityIndicator, FlatList, Text, View, ImageBackground, ScrollView} from 'react-native';\nimport {SafeAreaView, Pressable, Modal, TextInput} from 'react-native';\n\nimport {userContext} from '../../contexts/userContext';\nimport {sendAPI} from '../../components/sendAPI';\nimport { useToast } from \"react-native-toast-notifications\";\n\n//import {traitementFilter} from '../../components/pickerActivite';\n//import RNPickerSelect from 'react-native-picker-select';\n\nimport styles from '../../styles';\nimport ViewStatus from '../../components/viewStatut';\nimport * as Device from 'expo-device';\nimport logoVide from '../../../assets/logovide.png';\n\n\n// Fonction Principale\nfunction engagementScreen({navigation}) {\n\n  // Toast\n  const toast = useToast();\n\n  const [myCtrl, setMyCtrl] = useState(false);\n  const [myCarret, setMyCarret] = useState(0);\n\n  // basic\n  const [isLoading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  // Reload\n  const [upToDate, setUpToDate] = useState(true);\n  \n  // Pour le pop up de commentaire\n  const [modalVisibleSet, setModalVisibleSet] = useState(false);\n\n  // Pour le commentaire\n  const [comment, setComment] = useState('');\n  const [infoComment, setInfoComment] = useState(['', '', '']);\n\n  // Mode d'affichage\n  const [visibleData, setVisibleData] = useState('');\n  //const [affichage, setAffichag] = useState(\"TOUT\");\n\n  //const [picker, setPicker] = useState(\"date\");\n\n  // On charge l'id de l'utilisateur courrant\n  const userID = React.useContext(userContext).userID\n  const token = React.useContext(userContext).token;\n\n  //Handler des erreurs de serveur\n  const handleError = React.useContext(userContext).handleError;\n  \n  //Affichage ou non du menu synthese referent\n  const setReferent = React.useContext(userContext).setReferent;\n\n  //Affichage ou non du menu synthese responsable\n  const setResponsable = React.useContext(userContext).setResponsable;\n  \n  // Focntion de chargement de l'activité\n  function versActivite({navigation}, item) {\n  \tnavigation.navigate('Activite', {\n  \t  IDActivite: item.idactivite, IDSite: item.idsite, IDJour: item.jourpresence.split(\" \")[0], NomActivite: item.nomactivite, NomSite: item.nomsite, idRole: (item.nomrole == \"BENEVOLE\") ? \"1\" : \"2\"\n  \t});\n  }\n\n  // On va chercher les données\n  useEffect(() => {\n    // Lors du focus de la page\n    const unsubscribe = navigation.addListener('focus', () => {\n\t  setLoading(true);\n\t  sendAPI('APP', 'AP_LST_PRE_BEN', {'P_IDBENEVOLE':userID},token)\n\t  .then((json) =>  {setData(json); setUpToDate(true); setLoading(false)})\n\t  .catch((error) => {setLoading(false); handleError (error)});\n    });\n\n\n    // Return the function to unsubscribe from the event so it gets removed on unmount\n    return unsubscribe;\n    \n  }, [navigation]);\n\n  useEffect(() => {\n\tsendAPI('APP', 'AP_CHECK_REFERENT', {'P_IDBENEVOLE':userID},token)\n\t.then(data => setReferent(data[0].ref==\"1\"))\n    .catch((error) => handleError (error));\n  }, []);\n\n  useEffect(() => {\n    sendAPI('APP', 'AP_CHECK_RESPONSABLE', {'P_IDBENEVOLE':userID},token)\n    .then(data => setResponsable(data[0].resp==\"1\"))\n      .catch((error) => handleError (error));\n  }, []);\n\n\n  // Lors d'un changement\n  useEffect(() => {\n    if(upToDate == false){\n      setLoading(true);\n\t  sendAPI('APP', 'AP_LST_PRE_BEN', {'P_IDBENEVOLE':userID},token)\n\t  .then((json) =>  {setData(json); setUpToDate(true); setLoading(false)})\n\t  .catch((error) => {setLoading(false); handleError (error)});\n    }\n  }, [upToDate]);\n\n\n  // on met à jour la liste visible\n  useEffect(() => {\n\n    //const tr = traitementSort(picker.toUpperCase(), data, data, 1, 2, 3, 4, 6);\n\n    setVisibleData( data ); //traitementFilter(affichage, data) );\n\n  }, [data]);\n\n  // On crée le renderer pour la flatlist\n  const renderItem = ({ item }) => (\n    <View style={[styles.item, styles[item.nomrole], {paddingVertical: 0}]}>\n      <Pressable onPress={() => versActivite({navigation}, item)} style={{marginVertical: 5, alignSelf: \"center\", width: \"100%\", maxWidth: 600, padding: 0, justifyContent: \"space-between\",}}>\n        {({ pressed }) => (\n        <View style={{flexDirection: \"row\"}}>\n\n          {/* Conteneur 1ere colonne : site */}\n          <View style={[styles.colomn, {width:'33%'}]}>\n            <Text style={{color: pressed ? 'white' : 'black',textAlign: \"center\", fontSize: 12}}>{item.nomsite}</Text>\n            <Text style={{color: pressed ? 'white' : 'black', textAlign: \"center\", fontSize: 12}}>{item.nomactivite}</Text> \n          </View>\n\n          {/* Conteneur 2eme colonne : jour */}\n          <View style={[styles.colomn, {width:'33%'}]}>\n          <Text style={{color: pressed ? 'white' : 'black', textAlign: \"center\", fontSize: 12}}>\n              {item.jourpresence.split(\" \")[0].split(\"-\")[2]}/\n              {item.jourpresence.split(\" \")[0].split(\"-\")[1]}/\n              {item.jourpresence.split(\" \")[0].split(\"-\")[0]}\n            </Text>\n            <Text style={{color: pressed ? 'white' : 'black', textAlign: \"center\", fontSize: 12}}>Participants : {item.nombre_present}</Text>\n          </View>\n\n          {/* Conteneur 3eme colonne : statut */}\n          <View style={[styles.colomn, {width:'33%'}]}>\n            <ViewStatus fctStatut={() => changerStatut(item.etat, userID, item.jourpresence, item.idactivite, item.idsite, (item.nomrole == \"BENEVOLE\") ? \"1\" : \"2\")}\n                        fctCommentaire={() => {setModalVisibleSet(true); setComment(item.commentaire); setInfoComment([ item.jourpresence, item.idactivite, item.idsite ])}} //TODO get ??\n                        status={item.etat} role=\"2\" align=\"row\" id1={userID} id2={userID} commentaire = {item.commentaire}/>\n          </View>\n\n        </View>\n        )}\n      </Pressable>\n    </View>\n  );\n\n\n  // Fonction de changement de statut\n  const changerStatut = (statut, benevole, jour, activite, site, role) => {\n\n    // Si absent\n    if(statut == \"Absent\"){\n      setLoading(true);\n      sendAPI('APP', 'AP_DEL_PRESENCE', {\"P_IDBENEVOLE\":benevole, \"P_JOURPRESENCE\":jour, \"P_IDACTIVITE\":activite, \"P_IDSITE\":site},token)\n      .then((texte) =>  {toastComponent(\"Statut : Non défini\", \"warning\"); setUpToDate(false); setLoading(false);})\n      .catch((error) => {setUpToDate(false); setLoading(false); handleError (error)});\n    }\n\n    // Si présent\n    else if(statut == \"Présent\"){\n\n      setInfoComment([ jour, activite, site ]);\n      //On rend le modal visible\n      setModalVisibleSet(true);\n      \n      // Le traitement se fait sur le modal afin d'éviter les désynchronisations\n\n    }\n\n      // Si non-défini\n      else{\n\t\t    setLoading(true);\n        sendAPI('APP', 'AP_INS_PRESENCE', {\"P_IDBENEVOLE\":benevole, \"P_JOURPRESENCE\":jour, \"P_IDACTIVITE\":activite, \"P_IDSITE\":site, \"P_IDROLE\":role},token)\n        .then((texte) =>  {toastComponent(\"Statut : Présent\", \"success\"); setUpToDate(false); setLoading(false);})\n        .catch((error) => {setUpToDate(false); setLoading(false); handleError (error)});\n      }\n      \n      // On raffraichie les composants quoi qu'il arrive\n      \n  }\n\n  // Affiche le toast\n  const toastComponent = (texte, type) => {\n        \n    toast.show(texte, {\n        type: type,\n        position: \"bottom\",\n        duration: 2000,\n        offset: 30,\n        animationType: \"zoom-in\",\n      });\n  };\n\n  // Met le commentaire d'absence\n  const fctCommentaireAbsence = () => {\n    setModalVisibleSet(!modalVisibleSet);\n    setLoading(true);\n    sendAPI('APP', 'AP_UPD_PRESENCE', {\"P_IDBENEVOLE\":userID, \"P_JOURPRESENCE\":infoComment[0], \"P_IDACTIVITE\":infoComment[1], \"P_IDSITE\":infoComment[2], \"P_COMMENTAIRE\":comment},token)\n    .then((texte) =>  {toastComponent(\"Statut : Absent\", \"normal\"); setUpToDate(false); setComment(\"\"); setLoading(false);})\n    .catch((error) => {setUpToDate(false); setComment(\"\"); setLoading(false); handleError (error)});\n\n    // On raffraichi et reset le commentaire pour la prochaine fois (au dessus)\n  }\n\n  // On retourne la flatliste\n  return (\n\n    <SafeAreaView style={styles.container}>\n      <View style={{flex: 1}}>\n        <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={modalVisibleSet}\n          onRequestClose={() => {setModalVisibleSet(!modalVisibleSet); setComment(\"\")}}\n        >\n          <ScrollView >\n            <View style={styles.centeredView}>\n              <ImageBackground source={logoVide} resizeMode=\"cover\" style={styles.modalContactView} imageStyle={styles.modalContactView2}>\n                <Text style={styles.modalContactTitle}>Commentaire d'Absence :</Text>\n                <TextInput\n                  style={[styles.input, {borderWidth: 1}]}\n                  multiline\n                  numberOfLines={3}\n                  onChangeText={setComment}\n                  value={comment}\n                  placeholder=\"Raison de votre absence\"\n                  autoCompleteType=\"off\"\n                  onSelectionChange={(event) => setMyCarret(event.nativeEvent.selection.end)}\n                  onKeyUp={(keyUp) => keyUp.keyCode == 17 && setMyCtrl(false)}\n                  onKeyPress={(keyPress) => { (!myCtrl && keyPress.keyCode == 13) && fctCommentaireAbsence();\n                                              (keyPress.keyCode == 13) && setComment(comment.slice(0, myCarret) + \"\\n\" + comment.slice(myCarret));\n                                              keyPress.keyCode == 17 && setMyCtrl(true)} }\n                  maxLength={999}\n                />\n\n                <View style={styles.modalContactButtonView}>\n                  <Pressable\n                    style={{alignItems: \"center\", padding: 10, elevation: 2, alignSelf: \"flex-end\"}}\n                    onPress={() =>  fctCommentaireAbsence()}\n                  >\n                    {({ pressed }) => (\n                      <Text style={[styles.textContactStyle, {color:pressed?\"lightgrey\":\"black\", fontWeight: \"bold\"}]}>Valider</Text>\n                    )}\n                  </Pressable>\n\n                  <Pressable\n                    style={{alignItems: \"center\", padding: 10, elevation: 2, alignSelf: \"flex-start\"}}\n                    onPress={() => {setModalVisibleSet(!modalVisibleSet);\n                                    setComment(\"\");}}\n                  >\n                    {({ pressed }) => (\n                      <Text style={[styles.textContactStyle, {color:pressed?\"lightgrey\":\"black\", fontWeight: \"bold\"}]}>Annuler</Text>\n                    )}\n                  </Pressable>\n                </View>\n              </ImageBackground>\n            </View>\n          </ScrollView>\n        </Modal>\n      \n\t\t\n        <FlatList\n          data={visibleData}\n          renderItem={renderItem}\n          keyExtractor={(item, index) => (index.toString())}\n          ListHeaderComponent={\n            <>\n\n              {/* Réordonnancement - Sélection */}\n              {/* <View style={{alignSelf: \"center\", width: \"100%\", maxWidth: 550, paddingTop: 20, flexDirection: \"row\", justifyContent: \"space-between\"}}>\n\n                <RNPickerSelect\n                  placeholder={{}}\n                  useNativeAndroidPickerStyle={true}\n                  onValueChange={(itemValue, itemIndex) =>\n                    {setPicker(itemValue);\n                    setVisibleData( traitementSort(itemValue, data, visibleData, 1, 2, 3, 4, 6) );}}\n                  selectedValue={picker}\n                  items={[\n                      { label: 'date', value: 'DATE' },\n                      { label: 'activite', value: 'ACTIVITE' },\n                      { label: 'site', value: 'SITE' },\n                      { label: 'participant', value: 'PARTICIPANT' },\n                  ]}\n                  style={pickerSelectStyles}\n                  InputAccessoryView={() => null}\n                />\n\n                <RNPickerSelect\n                  placeholder={{}}\n                  useNativeAndroidPickerStyle={true}\n                  onValueChange={(itemValue, itemIndex) =>\n                    setAffichage(itemValue)\n                  }\n                  selectedValue={affichage}\n                  items={[\n                      { label: 'tout', value: 'TOUT' },\n                      { label: 'présent', value: 'PRESENT' },\n                      { label: 'absent', value: 'ABSENT' },\n                      { label: 'non défini', value: 'NONDEFINI' },\n                  ]}\n                  style={pickerSelectStyles}\n                  InputAccessoryView={() => null}\n                />\n                  \n              </View> */}\n\t\t\t  \n              {/*Header de la flatlist*/}\n              <View style = {styles.header}>\n                <View style={{width:'33%'}}>\n                  <Text style = {[styles.headerTitle, {textAlign: \"center\"}]}>Activité</Text>\n                </View>\n                <View style={{width:'33%'}}>\n                  <Text style = {[styles.headerTitle, {textAlign: \"center\"}]}>Infos</Text>\n                </View>\n                <View style={{width:'33%'}}>\n                  <Text style = {[styles.headerTitle, {textAlign: \"center\"}]}>Présence</Text>\n                </View>\n              </View>\n            </>\n          }\n        />\n      </View>\n      {isLoading &&\n        <View style={styles.loading}>\n          <ActivityIndicator size=\"large\" color=\"#e92682\" />\n        </View>\n\t  }\n    </SafeAreaView>\n\n  );\n}\n\n\n\n\n// width: (Dimensions.get('window').width / 2) ,\n\n// On exporte la fonction principale\nexport default engagementScreen;\n\n\n// Style\n/* const pickerSelectStyles = StyleSheet.create({\n  inputIOS: {\n    margin: 20,\n    fontSize: 16,\n    width: 160,\n    height: 40,\n    paddingHorizontal: 10,\n    paddingVertical: 8,\n    borderWidth: 0.5,\n    borderColor: 'black',\n    borderRadius: 8,\n    color: 'black',\n  },\n\n  inputAndroid: {\n    margin: 20,\n    fontSize: 16,\n    width: 160,\n    height: 40,\n    paddingHorizontal: 2,\n    paddingVertical: 8,\n    borderWidth: 0.5,\n    borderColor: 'black',\n    borderRadius: 8,\n    color: 'black',\n  },\n  inputWeb: {\n    margin: 20,\n    fontSize: 16,\n    width: 160,\n    height: 40,\n    paddingHorizontal: 10,\n    paddingVertical: 8,\n    borderWidth: 0.5,\n    borderColor: 'black',\n    borderRadius: 8,\n    color: 'black',\n  }\n});\n */"],"mappings":"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"},"metadata":{},"sourceType":"module"}